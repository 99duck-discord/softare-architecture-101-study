# 3장 모듈성

## 🔎 Survey and Question - 훑어보고 질문하기

### 소제목 훑어보기

1. 정의
2. 모듈성 측정
   1. 응집
   2. 커플링
   3. 추상도, 불안정도, 메인 시퀀스로부터의 거리
   4. 메인 시퀀스로부터의 거리
   5. 커네이선스
   6. 커플링과 커네이선스 메트릭을 통합
3. 모듈에서 컴포넌트로

### 사전 질문 / 내용에 대한 예언

#### 정의

Q. 모듈성이란 무엇인가?
A. 프로젝트의 소스코드에 있어 **개별 모듈이 분명하게 구분되고 모듈 간 통신이 잘 되는 정도**

#### 모듈성 측정

Q. 응집의 정의와 측정 방법은?
A. 응집이란 한 모듈 내부의 구성요소가 서로 연관된 정도로, 모듈의 응집도가 높을수록 이상적. 모듈의 구조적 응집도를 측정하기 위해 LCOM(Lack of Cohesion Methods; 공유 필드를 통해 공유되지 않는 메서드의 총 개수) 활용 가능.

Q. 커플링의 정의와 측정 방법은?
A. 결합도는 별개의 모듈이 서로 연관된 정도로, 모듈의 결합도가 낮을수록 이상적. 기본적으로 구심 커플링(afferent coupling; 코드 아티팩트로 유입되는 접속 수)과 원심 커플링(efferent coupling; 다른 코드 아티팩트로 유출되는 접속 수)로 측정 가능.

Q. 추상도의 정의와 측정 방법은?
A. 추상도란 추상 아티팩트와 구상 아티팩트의 비율, 구현체(concrete class 등)들이 추상화되어있는 정도(구현 대비 추상화 정도)를 의미. `모듈의 추상도(A) = 추상 요소의 합 / 구상 요소의 합`으로 계산 가능.

Q. 불안정도의 정의와 측정 방법은?
A. 불안정도란 코드의 변동성(volatility)로 불안정한 코드베이스는 결합도가 높으므로 코드 수정시 깨지기 쉬움. `모듈의 불안정도(I) = 원심 커플링 / (원심 커플링 + 구심 커플링)`, 즉 `outcoming / (outcoming + incoming)`로 측정 가능. 외부에서 호출가능한 퍼블릭 인터페이스를 많이 제공하는 모듈일수록 해당 모듈을 수정했을 때 클라이언트 코드까지 깨지게 됨.

Q. 메인 시퀀스로부터의 거리의 정의와 측정 방법은?
A. 메인 시퀀스로부터의 거리(D)는 아키텍처 구조를 평가하는 메트릭으로 추상도(A)와 불안정도(I)를 통해 `D = |A + I - 1|`로 측정 가능(전부 0~1의 값을 지님. 메인시퀀스란 추상도와 불안정도 사이의 이상적인 관계로, 메인시퀀스로부터의 거리가 가까울수록 추상도와 불안정도의 균형이 잘 맞는다는 의미.

Q. 커네이선스의 정의와 측정 방법은?
A. 커네이선스(connascence)란 변화 종속성으로, 두 컴포넌트 중 한쪽을 변경하면 다른 쪽도 함께 변경해야만 시스템의 전체적인 정합성이 유지되는 경우에 커네이선스가 존재한다고 판단 가능. 소스코드 레벨의 정적 커네이선스와 런타임 레벨의 동적 커네이선스가 존재.

#### 모듈에서 컴포넌트로

Q. 모듈과 컴포넌트의 차이는 무엇인가?
A. 애매하다. 연관된 코드의 묶음을 부르는 용어로 모듈과 컴포넌트가 혼용되는 것으로 보임.

---

## 📝 Read & Recite - 읽어보고 노트하기

[개인 정리 자료](https://github.com/bugoverdose/book-notes/blob/master/%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98_101/README.md)의 3장 관련 마크다운 확인

---

## 😎 Review - 요약하기

개발자는 모듈의 응집도, 결합도, 추상도, 불안정도를 측정할 수 있으며 추상도와 불안정도 간의 균형이 적절한지를 메인 시퀀스로부터의 거리를 통해 계산할 수 있다. 또한 모듈성을 개선하기 위해 커네이선스 개념(변화 종속성)을 다양하게 활용할 수 있다. 이를 통해 모듈의 응집도를 높이고 결합도를 낮추거나, 변화에 유연하게 대처할 수 있도록 소스코드를 개선할 수 있다.

다만, 이러한 메트릭은 아키텍처 구조가 아닌 코드의 품질에 한정되었다. 때문에 아키텍트가 내려야하는 근본적인 아키텍처 관련 결정들에서는 활용되기 어렵다.
